{"ast":null,"code":"import _slicedToArray from\"/Users/careybrock/Articles/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';function PoliticsList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),politic=_useState2[0],setPolitic=_useState2[1];useEffect(function(){axios.get('http://localhost:3002/api/politic/').then(function(res){setPolitic(res.data);}).catch(function(error){return console.log(error);});},[]);var deleteItem=function deleteItem(id){axios.delete(\"http://localhost:3002/api/politic/\".concat(id)).then(function(res){window.location='/politicsList';});};var renderList=function renderList(){return politic&&politic.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{key:item._id,className:\"list\"},/*#__PURE__*/React.createElement(\"h3\",null,item.title),/*#__PURE__*/React.createElement(\"h5\",null,item.authorname),/*#__PURE__*/React.createElement(\"p\",null,item.description),/*#__PURE__*/React.createElement(\"p\",null,item.date),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return deleteItem(item._id);}},\"delete item\"),/*#__PURE__*/React.createElement(Link,{to:\"/addPolitic\"},\"Add Politics News \"),/*#__PURE__*/React.createElement(Link,{to:{pathname:'/addPolitic',aboutProps:{title:item.title,authorname:item.authorname,date:item.date,id:item._id,description:item.description}}},\"Edit Politics News \"));});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Politic News\"),renderList());};export default PoliticsList;","map":{"version":3,"sources":["/Users/careybrock/Articles/client/src/components/PoliticsList.jsx"],"names":["React","useState","useEffect","axios","Link","PoliticsList","politic","setPolitic","get","then","res","data","catch","error","console","log","deleteItem","id","delete","window","location","renderList","map","item","_id","title","authorname","description","date","pathname","aboutProps"],"mappings":"wJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,QAASC,CAAAA,YAAT,EAAwB,eACUJ,QAAQ,CAAC,EAAD,CADlB,wCACbK,OADa,eACJC,UADI,eAEpBL,SAAS,CAAC,UAAM,CACZC,KAAK,CAACK,GAAN,CAAU,oCAAV,EACKC,IADL,CACU,SAAAC,GAAG,CAAI,CAAEH,UAAU,CAACG,GAAG,CAACC,IAAL,CAAV,CAAsB,CADzC,EAEKC,KAFL,CAEW,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EAFhB,EAGH,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAQ,CACvBd,KAAK,CAACe,MAAN,6CAAkDD,EAAlD,GACCR,IADD,CACM,SAAAC,GAAG,CAAI,CAAES,MAAM,CAACC,QAAP,CAAkB,eAAlB,CAAmC,CADlD,EAEH,CAHD,CAMA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SAAMf,CAAAA,OAAO,EAAIA,OAAO,CAACgB,GAAR,CAAY,SAAAC,IAAI,qBAChD,2BAAK,GAAG,CAAEA,IAAI,CAACC,GAAf,CAAoB,SAAS,CAAC,MAA9B,eACI,8BAAKD,IAAI,CAACE,KAAV,CADJ,cAEI,8BAAKF,IAAI,CAACG,UAAV,CAFJ,cAGI,6BAAIH,IAAI,CAACI,WAAT,CAHJ,cAII,6BAAIJ,IAAI,CAACK,IAAT,CAJJ,cAKI,8BAAQ,OAAO,CAAE,yBAAMZ,CAAAA,UAAU,CAACO,IAAI,CAACC,GAAN,CAAhB,EAAjB,gBALJ,cAMI,oBAAC,IAAD,EAAM,EAAE,CAAC,aAAT,uBANJ,cAOI,oBAAC,IAAD,EAAM,EAAE,CAAE,CAAEK,QAAQ,CAAE,aAAZ,CACNC,UAAU,CAAE,CAAEL,KAAK,CAAEF,IAAI,CAACE,KAAd,CAAqBC,UAAU,CAC3CH,IAAI,CAACG,UADO,CACKE,IAAI,CAAEL,IAAI,CAACK,IADhB,CACsBX,EAAE,CAAEM,IAAI,CAACC,GAD/B,CACoCG,WAAW,CAACJ,IAAI,CAACI,WADrD,CADN,CAAV,wBAPJ,CADgD,EAAhB,CAAjB,EAAnB,CAaA,mBACI,4CACI,6CADJ,CAEKN,UAAU,EAFf,CADJ,CAMH,EACD,cAAehB,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nfunction PoliticsList() {\n    const [politic, setPolitic] = useState([]);\n    useEffect(() => {\n        axios.get('http://localhost:3002/api/politic/')\n            .then(res => { setPolitic(res.data) })\n            .catch(error => console.log(error))\n    }, []);\n\n    const deleteItem = (id) => {\n        axios.delete(`http://localhost:3002/api/politic/${id}`)\n        .then(res => { window.location = '/politicsList' })\n    };\n\n\n    const renderList = () => politic && politic.map(item => (\n        <div key={item._id} className='list'>\n            <h3>{item.title}</h3>\n            <h5>{item.authorname}</h5>\n            <p>{item.description}</p>\n            <p>{item.date}</p>\n            <button onClick={() => deleteItem(item._id)}>delete item</button>\n            <Link to='/addPolitic' >Add Politics News </Link>\n            <Link to={{ pathname: '/addPolitic',\n                aboutProps: { title: item.title, authorname: \n                item.authorname, date: item.date, id: item._id, description:item.description } }} >Edit Politics News </Link>\n        </div>\n    ));\n    return (\n        <div>\n            <h1>Politic News</h1>\n            {renderList()}\n        </div>\n    );\n};\nexport default PoliticsList;"]},"metadata":{},"sourceType":"module"}